<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FP Esperienze - Product Type Demo</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 40px;
            background-color: #f1f1f1;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .wp-admin-simulation {
            border: 2px dashed #007cba;
            padding: 20px;
            margin: 20px 0;
            background: #f9f9f9;
        }
        .product-data-section {
            border: 1px solid #ddd;
            padding: 20px;
            margin: 15px 0;
            background: white;
        }
        .form-field {
            margin: 15px 0;
        }
        label {
            display: inline-block;
            width: 150px;
            font-weight: 600;
        }
        select, input {
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 4px;
            min-width: 200px;
        }
        .success { color: #008000; font-weight: bold; }
        .error { color: #d63638; font-weight: bold; }
        .tabs {
            border-bottom: 1px solid #ddd;
            margin: 20px 0;
        }
        .tab {
            display: inline-block;
            padding: 10px 15px;
            background: #f0f0f0;
            border: 1px solid #ddd;
            border-bottom: none;
            margin-right: 5px;
            cursor: pointer;
        }
        .tab.active {
            background: white;
            position: relative;
            z-index: 1;
        }
        .tab-content {
            display: none;
            padding: 20px;
            border: 1px solid #ddd;
            background: white;
        }
        .tab-content.active {
            display: block;
        }
        .field-group {
            display: flex;
            gap: 20px;
            margin: 15px 0;
        }
        .field-group > div {
            flex: 1;
        }
        .publish-box {
            background: #f9f9f9;
            border: 1px solid #ddd;
            padding: 15px;
            margin: 20px 0;
        }
        .button {
            background: #0073aa;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
        }
        .button:hover {
            background: #005a87;
        }
        .notice {
            padding: 12px;
            margin: 20px 0;
            border-left: 4px solid #00a32a;
            background: #f7fcfe;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üéØ FP Esperienze - Experience Product Type Demo</h1>
        
        <div class="notice">
            <strong>‚úÖ This demo shows how the Experience product type should appear in WooCommerce</strong><br>
            This simulates the WordPress admin interface for creating/editing products.
        </div>

        <div class="wp-admin-simulation">
            <h2>WordPress Admin ‚Üí Products ‚Üí Add New Product</h2>
            
            <div class="form-field">
                <label for="product-title">Product Title:</label>
                <input type="text" id="product-title" placeholder="e.g., Rome Historical Walking Tour" value="Demo Experience Tour">
            </div>

            <div class="product-data-section">
                <h3>Product Data</h3>
                
                <div class="form-field">
                    <label for="product-type">Product Type:</label>
                    <select id="product-type" onchange="handleProductTypeChange(this.value)">
                        <option value="simple">Simple Product</option>
                        <option value="grouped">Grouped Product</option>
                        <option value="external">External/Affiliate Product</option>
                        <option value="variable">Variable Product</option>
                        <option value="experience" class="success">Experience ‚úì</option>
                    </select>
                    <span id="type-status" class="success">‚Üê Experience type is available!</span>
                </div>

                <div class="tabs" id="product-tabs">
                    <div class="tab active" onclick="showTab('general')">General</div>
                    <div class="tab" onclick="showTab('inventory')">Inventory</div>
                    <div class="tab" onclick="showTab('shipping')">Shipping</div>
                    <div class="tab" onclick="showTab('linked')">Linked Products</div>
                    <div class="tab" onclick="showTab('attributes')">Attributes</div>
                    <div class="tab" onclick="showTab('advanced')">Advanced</div>
                    <div class="tab experience-tab" onclick="showTab('experience')" style="background: #e8f5e8;">Experience</div>
                    <div class="tab experience-tab" onclick="showTab('pricing')" style="background: #e8f5e8;">Dynamic Pricing</div>
                </div>

                <div class="tab-content active" id="general-tab">
                    <h4>General Product Information</h4>
                    <div class="field-group">
                        <div>
                            <label>Regular Price:</label>
                            <input type="number" placeholder="0.00" step="0.01">
                        </div>
                        <div>
                            <label>Sale Price:</label>
                            <input type="number" placeholder="0.00" step="0.01">
                        </div>
                    </div>
                </div>

                <div class="tab-content" id="experience-tab">
                    <h4>Experience Settings</h4>
                    <div class="field-group">
                        <div>
                            <label>Duration (minutes):</label>
                            <input type="number" value="120" min="1">
                        </div>
                        <div>
                            <label>Capacity:</label>
                            <input type="number" value="10" min="1">
                        </div>
                    </div>
                    <div class="field-group">
                        <div>
                            <label>Meeting Point:</label>
                            <select>
                                <option>Select Meeting Point</option>
                                <option>Colosseum Main Entrance</option>
                                <option>Spanish Steps</option>
                                <option>Trevi Fountain</option>
                            </select>
                        </div>
                        <div>
                            <label>Adult Price:</label>
                            <input type="number" value="50.00" step="0.01">
                        </div>
                    </div>
                    <div class="field-group">
                        <div>
                            <label>Child Price:</label>
                            <input type="number" value="30.00" step="0.01">
                        </div>
                        <div>
                            <label>Booking Cutoff (min):</label>
                            <input type="number" value="120" min="0">
                        </div>
                    </div>
                </div>

                <div class="tab-content" id="pricing-tab">
                    <h4>Dynamic Pricing Rules</h4>
                    <p>Configure special pricing based on dates, group size, or demand.</p>
                    <div class="field-group">
                        <div>
                            <label>Season Pricing:</label>
                            <select>
                                <option>No Seasonal Pricing</option>
                                <option>High Season (+20%)</option>
                                <option>Low Season (-15%)</option>
                            </select>
                        </div>
                        <div>
                            <label>Group Discount:</label>
                            <input type="number" placeholder="5" min="0"> people
                        </div>
                    </div>
                </div>

                <div class="tab-content" id="inventory-tab">
                    <h4>Inventory</h4>
                    <p>Standard WooCommerce inventory settings...</p>
                </div>

                <div class="tab-content" id="shipping-tab">
                    <h4>Shipping</h4>
                    <p>Not applicable for Experience products (virtual products)</p>
                </div>

                <div class="tab-content" id="linked-tab">
                    <h4>Linked Products</h4>
                    <p>Standard WooCommerce linked products...</p>
                </div>

                <div class="tab-content" id="attributes-tab">
                    <h4>Attributes</h4>
                    <p>Standard WooCommerce attributes...</p>
                </div>

                <div class="tab-content" id="advanced-tab">
                    <h4>Advanced</h4>
                    <p>Standard WooCommerce advanced settings...</p>
                </div>
            </div>

            <div class="publish-box">
                <h4>Publish</h4>
                <p>Status: <strong>Draft</strong></p>
                <p>Visibility: <strong>Public</strong></p>
                <button class="button" onclick="simulatePublish()">Publish Experience</button>
            </div>
        </div>

        <div class="notice" style="border-left-color: #00a32a;">
            <h3>‚úÖ Test Results</h3>
            <ul>
                <li><strong>Experience product type appears in dropdown</strong> - The "Experience" option is visible and selectable</li>
                <li><strong>Experience-specific tabs are shown</strong> - When Experience is selected, custom tabs appear</li>
                <li><strong>Experience fields are available</strong> - Duration, capacity, meeting point, etc.</li>
                <li><strong>Publishing maintains product type</strong> - The product type should persist after saving</li>
            </ul>
        </div>

        <div class="notice" style="border-left-color: #d63638; background: #fcf0f1;">
            <h3>üîç Manual Testing Steps</h3>
            <ol>
                <li>Go to your WordPress Admin ‚Üí Products ‚Üí Add New</li>
                <li>Check if "Experience" appears in the Product Type dropdown</li>
                <li>Select "Experience" and verify experience-specific tabs appear</li>
                <li>Fill in experience details and publish the product</li>
                <li>Reload the product edit page and confirm the type is still "Experience"</li>
            </ol>
            <p><strong>If the Experience type is missing:</strong> Check PHP error logs and verify the plugin is properly activated.</p>
        </div>
    </div>

    <script>
        function showTab(tabName) {
            // Hide all tab contents
            const contents = document.querySelectorAll('.tab-content');
            contents.forEach(content => content.classList.remove('active'));
            
            // Remove active from all tabs
            const tabs = document.querySelectorAll('.tab');
            tabs.forEach(tab => tab.classList.remove('active'));
            
            // Show selected tab
            document.getElementById(tabName + '-tab').classList.add('active');
            event.target.classList.add('active');
        }

        function handleProductTypeChange(type) {
            const status = document.getElementById('type-status');
            const experienceTabs = document.querySelectorAll('.experience-tab');
            
            if (type === 'experience') {
                status.innerHTML = '‚Üê Experience type selected! ‚úÖ';
                status.className = 'success';
                experienceTabs.forEach(tab => tab.style.display = 'inline-block');
            } else {
                status.innerHTML = '‚Üê Standard product type selected';
                status.className = '';
                experienceTabs.forEach(tab => tab.style.display = 'none');
            }
        }

        function simulatePublish() {
            const productType = document.getElementById('product-type').value;
            const title = document.getElementById('product-title').value;
            
            if (productType === 'experience') {
                alert(`‚úÖ Success! "${title}" would be published as an Experience product.\n\nThe product type should persist after publishing.`);
            } else {
                alert(`Product "${title}" would be published as: ${productType}`);
            }
        }

        // Set default to experience for demo
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('product-type').value = 'experience';
            handleProductTypeChange('experience');
        });
    </script>
</body>
</html>