<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FP Esperienze Schedule Builder - UI Preview</title>
    <link rel="stylesheet" href="https://s.w.org/wp-includes/css/dashicons.css">
    <link rel="stylesheet" href="assets/css/admin.css">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;
            background: #f1f1f1;
            margin: 0;
            padding: 20px;
        }
        
        .preview-container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 4px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            padding: 20px;
        }
        
        .options_group {
            border: 1px solid #ddd;
            margin-bottom: 20px;
            background: #fff;
        }
        
        .options_group h4 {
            background: #f9f9f9;
            border-bottom: 1px solid #ddd;
            padding: 10px 15px;
            margin: 0;
            font-size: 14px;
            font-weight: 600;
        }
        
        .options_group .content {
            padding: 15px;
        }
        
        /* Schedule Builder Styles */
        .fp-builder-section h5 {
            margin: 0 0 10px 0;
            font-size: 14px;
            font-weight: 600;
            color: #1d2327;
        }
        
        .fp-time-slot-row {
            border: 1px solid #c3c4c7;
            padding: 15px;
            margin-bottom: 15px;
            background: #f6f7f7;
            border-radius: 4px;
            box-shadow: 0 1px 1px rgba(0,0,0,0.04);
        }
        
        .fp-time-slot-header {
            display: flex;
            align-items: flex-end;
            gap: 15px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }
        
        .fp-days-checkboxes {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            align-items: center;
        }
        
        .fp-days-checkboxes label {
            display: flex;
            align-items: center;
            gap: 5px;
            white-space: nowrap;
            font-size: 12px;
            margin: 0;
        }
        
        .fp-override-toggle {
            border-top: 1px solid #ddd;
            padding-top: 15px;
            margin-bottom: 15px;
        }
        
        .fp-override-toggle label {
            font-weight: normal;
            margin: 0;
        }
        
        .fp-overrides-section {
            border-top: 1px solid #ddd;
            padding-top: 15px;
            background: #fff;
            padding: 15px;
            border-radius: 4px;
            margin-top: 10px;
        }
        
        .fp-remove-time-slot {
            background: #dc3232;
            color: white;
            border: none;
            border-radius: 3px;
            height: fit-content;
            align-self: flex-end;
            display: flex;
            align-items: center;
            gap: 5px;
            padding: 8px 12px;
            cursor: pointer;
        }
        
        .fp-remove-time-slot:hover {
            background: #c62d2d;
        }
        
        .fp-add-time-slot {
            background: #2271b1;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 3px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .fp-add-time-slot:hover {
            background: #135e96;
        }
        
        /* Form elements */
        label {
            font-weight: bold;
            display: block;
            margin-bottom: 5px;
            font-size: 13px;
        }
        
        input[type="time"], input[type="number"], input[type="text"], select {
            width: 100%;
            padding: 6px 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 13px;
        }
        
        input::placeholder {
            color: #757575;
            font-style: italic;
        }
        
        .required {
            color: #dc3232;
        }
        
        .description {
            color: #666;
            font-size: 12px;
            font-style: italic;
        }
        
        /* Grid layouts */
        .grid-3 {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
        }
        
        /* Advanced mode */
        .advanced-mode {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 4px;
            padding: 15px;
            margin-top: 20px;
        }
        
        .advanced-mode h5 {
            margin: 0 0 15px 0;
            color: #856404;
            font-weight: 600;
        }
        
        .toggle-section {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid #ddd;
        }
    </style>
</head>
<body>
    <div class="preview-container">
        <h1>FP Esperienze - Schedule Builder UI Preview</h1>
        <p class="description">This preview shows the new Schedule Builder interface that simplifies schedule management by allowing inheritance from product defaults.</p>
        
        <div class="options_group">
            <h4>Product Defaults</h4>
            <div class="content">
                <div class="grid-3">
                    <div>
                        <label>Default Duration (minutes) <span class="required">*</span></label>
                        <input type="number" value="90" placeholder="60">
                    </div>
                    <div>
                        <label>Default Max Capacity <span class="required">*</span></label>
                        <input type="number" value="12" placeholder="10">
                    </div>
                    <div>
                        <label>Default Language</label>
                        <input type="text" value="it" placeholder="en">
                    </div>
                </div>
                <div style="margin-top: 15px;">
                    <div class="grid-3">
                        <div>
                            <label>Default Meeting Point</label>
                            <select>
                                <option>Piazza San Marco, Venice</option>
                                <option>Colosseum Entrance, Rome</option>
                            </select>
                        </div>
                        <div>
                            <label>Default Child Price (€)</label>
                            <input type="number" value="15.00" placeholder="0.00" step="0.01">
                        </div>
                        <div></div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="options_group">
            <h4>Weekly Schedules</h4>
            <div class="content">
                <div class="fp-builder-section">
                    <h5>Weekly Programming</h5>
                    <p class="description">Create time slots that apply to multiple days. Override values are inherited from product defaults above.</p>
                    
                    <div id="fp-time-slots-container" class="fp-time-slots-container-clean">
                        <div class="fp-time-slot-card fp-time-slot-card-clean" data-index="0">
                            <div class="fp-time-slot-content-clean">
                                <div class="fp-slot-card-inner">
                                    <div class="fp-slot-rail" aria-hidden="true">
                                        <span class="fp-slot-rail__dot"></span>
                                        <span class="fp-slot-rail__line"></span>
                                    </div>
                                    <div class="fp-slot-content">
                                        <header class="fp-slot-header">
                                            <div class="fp-slot-header__meta">
                                                <span class="fp-slot-chip">Slot 01</span>
                                                <p class="fp-slot-subtitle">Recurring weekly availability</p>
                                                <div class="fp-slot-status-badges">
                                                    <span class="fp-slot-status-badge is-success"><span class="dashicons dashicons-yes"></span>2 active slots</span>
                                                    <span class="fp-slot-status-badge is-info"><span class="dashicons dashicons-calendar-alt"></span>3 days selected</span>
                                                </div>
                                            </div>
                                            <div class="fp-slot-actions-clean">
                                                <button type="button" class="button fp-duplicate-time-slot-clean">
                                                    <span class="dashicons dashicons-admin-page"></span>
                                                    Duplicate slot
                                                </button>
                                                <button type="button" class="button button-link-delete fp-remove-time-slot-clean">
                                                    <span class="dashicons dashicons-trash"></span>
                                                    Remove slot
                                                </button>
                                            </div>
                                        </header>

                                        <div class="fp-slot-primary">
                                            <div class="fp-slot-primary__field fp-time-field-clean form-field fp-field fp-field--time">
                                                <label for="preview-time-0" class="fp-slot-field-label">
                                                    <span class="dashicons dashicons-clock"></span>
                                                    <span class="fp-slot-label-text">Start Time <span class="required">*</span></span>
                                                </label>
                                                <div class="fp-slot-time-input">
                                                    <input type="time" id="preview-time-0" value="09:00">
                                                </div>
                                                <p class="fp-slot-hint">Guests see this start time in their timezone.</p>
                                            </div>

                                            <div class="fp-slot-primary__field fp-days-field-clean form-field fp-field fp-field--days">
                                                <label class="fp-slot-field-label">
                                                    <span class="dashicons dashicons-calendar-alt"></span>
                                                    <span class="fp-slot-label-text">Days of Week <span class="required">*</span></span>
                                                </label>
                                                <div class="fp-slot-day-grid fp-days-pills-clean">
                                                    <div class="fp-day-pill-clean">
                                                        <input type="checkbox" id="preview-day-0-1" checked>
                                                        <label for="preview-day-0-1" title="Monday">
                                                            <span class="fp-slot-day__abbr">Mon</span>
                                                            <span class="fp-slot-day__full">Monday</span>
                                                        </label>
                                                    </div>
                                                    <div class="fp-day-pill-clean">
                                                        <input type="checkbox" id="preview-day-0-2">
                                                        <label for="preview-day-0-2" title="Tuesday">
                                                            <span class="fp-slot-day__abbr">Tue</span>
                                                            <span class="fp-slot-day__full">Tuesday</span>
                                                        </label>
                                                    </div>
                                                    <div class="fp-day-pill-clean">
                                                        <input type="checkbox" id="preview-day-0-3" checked>
                                                        <label for="preview-day-0-3" title="Wednesday">
                                                            <span class="fp-slot-day__abbr">Wed</span>
                                                            <span class="fp-slot-day__full">Wednesday</span>
                                                        </label>
                                                    </div>
                                                    <div class="fp-day-pill-clean">
                                                        <input type="checkbox" id="preview-day-0-4">
                                                        <label for="preview-day-0-4" title="Thursday">
                                                            <span class="fp-slot-day__abbr">Thu</span>
                                                            <span class="fp-slot-day__full">Thursday</span>
                                                        </label>
                                                    </div>
                                                    <div class="fp-day-pill-clean">
                                                        <input type="checkbox" id="preview-day-0-5" checked>
                                                        <label for="preview-day-0-5" title="Friday">
                                                            <span class="fp-slot-day__abbr">Fri</span>
                                                            <span class="fp-slot-day__full">Friday</span>
                                                        </label>
                                                    </div>
                                                    <div class="fp-day-pill-clean">
                                                        <input type="checkbox" id="preview-day-0-6">
                                                        <label for="preview-day-0-6" title="Saturday">
                                                            <span class="fp-slot-day__abbr">Sat</span>
                                                            <span class="fp-slot-day__full">Saturday</span>
                                                        </label>
                                                    </div>
                                                    <div class="fp-day-pill-clean">
                                                        <input type="checkbox" id="preview-day-0-0">
                                                        <label for="preview-day-0-0" title="Sunday">
                                                            <span class="fp-slot-day__abbr">Sun</span>
                                                            <span class="fp-slot-day__full">Sunday</span>
                                                        </label>
                                                    </div>
                                                </div>
                                                <p class="fp-slot-hint">Select at least one day to activate this slot.</p>
                                            </div>

                                            <div class="fp-slot-primary__field fp-slot-insight">
                                                <h4>Slot notes</h4>
                                                <ul class="fp-slot-insight-list">
                                                    <li><span class="dashicons dashicons-update"></span>Repeats weekly on your chosen days.</li>
                                                    <li><span class="dashicons dashicons-admin-generic"></span>Overrides below replace product defaults.</li>
                                                    <li><span class="dashicons dashicons-visibility"></span>Customers only see published, in-season slots.</li>
                                                </ul>
                                            </div>
                                        </div>

                                        <section class="fp-overrides-section-clean" aria-label="Time slot overrides">
                                            <div class="fp-slot-detail-header">
                                                <div>
                                                    <h4>Booking details</h4>
                                                    <p>Adjust capacity, pricing, and duration for this specific time slot.</p>
                                                </div>
                                            </div>
                                            <div class="fp-overrides-grid-clean">
                                                <div class="fp-override-field-clean">
                                                    <label>Duration (minutes)</label>
                                                    <input type="number" value="90" min="1">
                                                </div>
                                                <div class="fp-override-field-clean">
                                                    <label>Capacity</label>
                                                    <input type="number" value="12" min="1">
                                                </div>
                                                <div class="fp-override-field-clean">
                                                    <label>Language</label>
                                                    <input type="text" value="it" maxlength="10">
                                                </div>
                                                <div class="fp-override-field-clean">
                                                    <label>Meeting Point</label>
                                                    <select>
                                                        <option>Piazza San Marco, Venice</option>
                                                        <option>Colosseum Entrance, Rome</option>
                                                    </select>
                                                </div>
                                                <div class="fp-override-field-clean">
                                                    <label>Adult Price (€)</label>
                                                    <input type="number" value="25.00" min="0" step="0.01">
                                                </div>
                                                <div class="fp-override-field-clean">
                                                    <label>Child Price (€)</label>
                                                    <input type="number" value="15.00" min="0" step="0.01">
                                                </div>
                                            </div>
                                        </section>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="fp-time-slot-card fp-time-slot-card-clean" data-index="1">
                            <div class="fp-time-slot-content-clean">
                                <div class="fp-slot-card-inner">
                                    <div class="fp-slot-rail" aria-hidden="true">
                                        <span class="fp-slot-rail__dot"></span>
                                        <span class="fp-slot-rail__line"></span>
                                    </div>
                                    <div class="fp-slot-content">
                                        <header class="fp-slot-header">
                                            <div class="fp-slot-header__meta">
                                                <span class="fp-slot-chip">Slot 02</span>
                                                <p class="fp-slot-subtitle">Recurring weekly availability</p>
                                                <div class="fp-slot-status-badges">
                                                    <span class="fp-slot-status-badge is-warning"><span class="dashicons dashicons-warning"></span>Needs details</span>
                                                    <span class="fp-slot-status-badge is-info"><span class="dashicons dashicons-calendar-alt"></span>4 days selected</span>
                                                </div>
                                            </div>
                                            <div class="fp-slot-actions-clean">
                                                <button type="button" class="button fp-duplicate-time-slot-clean">
                                                    <span class="dashicons dashicons-admin-page"></span>
                                                    Duplicate slot
                                                </button>
                                                <button type="button" class="button button-link-delete fp-remove-time-slot-clean">
                                                    <span class="dashicons dashicons-trash"></span>
                                                    Remove slot
                                                </button>
                                            </div>
                                        </header>

                                        <div class="fp-slot-primary">
                                            <div class="fp-slot-primary__field fp-time-field-clean form-field fp-field fp-field--time">
                                                <label for="preview-time-1" class="fp-slot-field-label">
                                                    <span class="dashicons dashicons-clock"></span>
                                                    <span class="fp-slot-label-text">Start Time <span class="required">*</span></span>
                                                </label>
                                                <div class="fp-slot-time-input">
                                                    <input type="time" id="preview-time-1" value="14:30">
                                                </div>
                                                <p class="fp-slot-hint">Guests see this start time in their timezone.</p>
                                            </div>

                                            <div class="fp-slot-primary__field fp-days-field-clean form-field fp-field fp-field--days">
                                                <label class="fp-slot-field-label">
                                                    <span class="dashicons dashicons-calendar-alt"></span>
                                                    <span class="fp-slot-label-text">Days of Week <span class="required">*</span></span>
                                                </label>
                                                <div class="fp-slot-day-grid fp-days-pills-clean">
                                                    <div class="fp-day-pill-clean">
                                                        <input type="checkbox" id="preview-day-1-1">
                                                        <label for="preview-day-1-1" title="Monday">
                                                            <span class="fp-slot-day__abbr">Mon</span>
                                                            <span class="fp-slot-day__full">Monday</span>
                                                        </label>
                                                    </div>
                                                    <div class="fp-day-pill-clean">
                                                        <input type="checkbox" id="preview-day-1-2" checked>
                                                        <label for="preview-day-1-2" title="Tuesday">
                                                            <span class="fp-slot-day__abbr">Tue</span>
                                                            <span class="fp-slot-day__full">Tuesday</span>
                                                        </label>
                                                    </div>
                                                    <div class="fp-day-pill-clean">
                                                        <input type="checkbox" id="preview-day-1-3">
                                                        <label for="preview-day-1-3" title="Wednesday">
                                                            <span class="fp-slot-day__abbr">Wed</span>
                                                            <span class="fp-slot-day__full">Wednesday</span>
                                                        </label>
                                                    </div>
                                                    <div class="fp-day-pill-clean">
                                                        <input type="checkbox" id="preview-day-1-4" checked>
                                                        <label for="preview-day-1-4" title="Thursday">
                                                            <span class="fp-slot-day__abbr">Thu</span>
                                                            <span class="fp-slot-day__full">Thursday</span>
                                                        </label>
                                                    </div>
                                                    <div class="fp-day-pill-clean">
                                                        <input type="checkbox" id="preview-day-1-5">
                                                        <label for="preview-day-1-5" title="Friday">
                                                            <span class="fp-slot-day__abbr">Fri</span>
                                                            <span class="fp-slot-day__full">Friday</span>
                                                        </label>
                                                    </div>
                                                    <div class="fp-day-pill-clean">
                                                        <input type="checkbox" id="preview-day-1-6" checked>
                                                        <label for="preview-day-1-6" title="Saturday">
                                                            <span class="fp-slot-day__abbr">Sat</span>
                                                            <span class="fp-slot-day__full">Saturday</span>
                                                        </label>
                                                    </div>
                                                    <div class="fp-day-pill-clean">
                                                        <input type="checkbox" id="preview-day-1-0" checked>
                                                        <label for="preview-day-1-0" title="Sunday">
                                                            <span class="fp-slot-day__abbr">Sun</span>
                                                            <span class="fp-slot-day__full">Sunday</span>
                                                        </label>
                                                    </div>
                                                </div>
                                                <p class="fp-slot-hint">Select at least one day to activate this slot.</p>
                                            </div>

                                            <div class="fp-slot-primary__field fp-slot-insight">
                                                <h4>Slot notes</h4>
                                                <ul class="fp-slot-insight-list">
                                                    <li><span class="dashicons dashicons-update"></span>Repeats weekly on your chosen days.</li>
                                                    <li><span class="dashicons dashicons-admin-generic"></span>Overrides below replace product defaults.</li>
                                                    <li><span class="dashicons dashicons-visibility"></span>Customers only see published, in-season slots.</li>
                                                </ul>
                                            </div>
                                        </div>

                                        <section class="fp-overrides-section-clean" aria-label="Time slot overrides">
                                            <div class="fp-slot-detail-header">
                                                <div>
                                                    <h4>Booking details</h4>
                                                    <p>Adjust capacity, pricing, and duration for this specific time slot.</p>
                                                </div>
                                            </div>
                                            <div class="fp-overrides-grid-clean">
                                                <div class="fp-override-field-clean">
                                                    <label>Duration (minutes)</label>
                                                    <input type="number" value="120" min="1">
                                                </div>
                                                <div class="fp-override-field-clean">
                                                    <label>Capacity</label>
                                                    <input type="number" value="10" min="1">
                                                </div>
                                                <div class="fp-override-field-clean">
                                                    <label>Language</label>
                                                    <input type="text" value="en" maxlength="10">
                                                </div>
                                                <div class="fp-override-field-clean">
                                                    <label>Meeting Point</label>
                                                    <select>
                                                        <option value="">Select meeting point</option>
                                                        <option>Piazza San Marco, Venice</option>
                                                        <option>Colosseum Entrance, Rome</option>
                                                    </select>
                                                </div>
                                                <div class="fp-override-field-clean">
                                                    <label>Adult Price (€)</label>
                                                    <input type="number" value="35.00" min="0" step="0.01">
                                                </div>
                                                <div class="fp-override-field-clean">
                                                    <label>Child Price (€)</label>
                                                    <input type="number" value="18.00" min="0" step="0.01">
                                                </div>
                                            </div>
                                        </section>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <button type="button" class="fp-add-time-slot" style="margin-top: 24px;">
                        <span class="dashicons dashicons-plus-alt"></span>
                        Add Time Slot
                    </button>
                </div>

                <div class="toggle-section">
                    <label>
                        <input type="checkbox"> Show Advanced Mode
                    </label>
                    <span class="description">Enable to view/edit individual schedule rows directly</span>
                </div>
                
                <div class="advanced-mode" style="display: none;">
                    <h5>Advanced Mode (Raw Schedules)</h5>
                    <p class="description">Individual schedule rows for fine-grained control. Changes here override the schedule builder above.</p>
                    <!-- Raw schedule rows would appear here -->
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // Simple demo functionality
        document.addEventListener('DOMContentLoaded', function() {
            document.querySelectorAll('.fp-slot-day-grid input[type="checkbox"]').forEach(function(input) {
                input.addEventListener('change', function() {
                    const card = this.closest('.fp-time-slot-card-clean');
                    if (!card) {
                        return;
                    }

                    card.classList.add('fp-newly-added');
                    setTimeout(function() {
                        card.classList.remove('fp-newly-added');
                    }, 500);
                });
            });

            const advancedToggle = document.querySelector('.toggle-section input[type="checkbox"]');
            if (advancedToggle) {
                advancedToggle.addEventListener('change', function() {
                    const advancedMode = document.querySelector('.advanced-mode');
                    if (!advancedMode) {
                        return;
                    }

                    advancedMode.style.display = this.checked ? 'block' : 'none';
                });
            }
        });
    </script>
</body>
</html>