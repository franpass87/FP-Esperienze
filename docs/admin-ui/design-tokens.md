# Admin Design Tokens & Base Styles

The FP Esperienze admin UI now relies on a lightweight design system. Tokens
are exposed as CSS custom properties so that new screens can stay consistent
with the WordPress admin palette and spacing rules while remaining easy to
override. Base styles provide structural primitives (cards, stacks, toolbars)
that every screen can compose.

## Source Files

| File | Purpose |
| --- | --- |
| `assets/src/admin/tokens.css` | Declares core color, spacing, typography, radius, and motion tokens. Includes aliases for the historical `--fp-*` variables to preserve existing selectors. |
| `assets/src/admin/base.css` | Provides scoped structural primitives (page container, grids, stack spacing, focus treatment) that consume the tokens and keep typography/spacing consistent. |
| `assets/src/admin/components.css` | Houses the component library (page header, toolbar, cards, notices, tab nav, form rows) that screens compose alongside legacy rules awaiting refit. |

The distributable stylesheet (`assets/css/admin.css`) is generated by
concatenating these sources with `scripts/build-admin-styles.php`.

## Token Highlights

| Token | Description |
| --- | --- |
| `--fp-admin-color-primary` | Mirrors the active WP admin theme color and drives primary buttons, pill navs, and highlights. |
| `--fp-admin-color-surface` / `--fp-admin-color-surface-muted` | Default surface backgrounds used for cards, tables, and muted panels. |
| `--fp-admin-space-*` | 4px spacing scale (`25`, `50`, `75`, `100`, `150`, `200`, `300`) that should be used for gaps, padding, and margins. |
| `--fp-admin-radius-sm/md/lg` | Corner radius scale that aligns with WordPress cards and buttons. |
| `--fp-admin-shadow-xs/sm/md` | Elevation presets for sticky toolbars, floating cards, and modal shells. |
| `--fp-admin-focus-ring-color` / `--fp-admin-focus-ring-inner` | Layered focus outline shared across interactive elements; adapts to dark mode and respects reduced motion preferences. |
| `--fp-admin-focus-ring-offset` | Standard offset used by `:focus-visible` rules so outlines sit outside the component border. |
| `--fp-admin-color-skip-background` / `--fp-admin-color-skip-text` | Colours for the persistent skip link badge rendered before each admin screen. |

Dark mode preferences and reduced motion requests are respected by the token
layer so downstream components do not need to implement those checks manually.

## Base Utilities

The following utility classes are available out of the box when the admin body
contains the `fp-esperienze-admin-screen` class:

- `.fp-admin-screen`: responsive grid container that constrains page width and
  provides page-level spacing.
- `.fp-admin-stack`: vertical spacing helper used to stack inputs and content.
- `.fp-admin-grid` + `--sidebar`: layout helpers for main/sidebar splits.

Combine these layout primitives with the component patterns documented in
`docs/admin-ui/components.md` to keep new screens consistent and accessible.

## Build Workflow

Regenerate the distributable admin stylesheet after editing any of the source
files:

```bash
composer build-admin-css
```

The command concatenates the source files and rewrites `assets/css/admin.css`
with a generated banner so version control diffs remain readable. The script
exits with an error if any expected source file is missing, making it safe to
use in CI jobs.
